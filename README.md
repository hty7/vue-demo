# to_github

[![vue2](https://img.shields.io/badge/vue-2.x-brightgreen.svg)](https://vuejs.org/)

> A Vue.js project demo

## å‰è¨€

é¡¹ç›®æ—¨åœ¨æ„é€ ä¸€ä¸ªåˆç†é€šç”¨çš„VUEé¡¹ç›®æ–‡ä»¶æ¶æ„ï¼Œèƒ½å¿«é€Ÿæ­å»ºç”Ÿæˆä¸šåŠ¡æ¨¡å—

## è¯´æ˜

>  ğŸš§  å¦‚æœå¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ‚¨å¯ä»¥ç‚¹å³ä¸Šè§’ "Star" æ”¯æŒä¸€ä¸‹ è°¢è°¢ï¼ ^_^ 

>  ğŸ‘‰ å¼€å‘ç¯å¢ƒ window10 Chrome 64  nodejs 9.2.0 

>  âš ï¸ [node ä¸‹è½½å®‰è£…é…ç½®](https://nodejs.org/en/download/)

>   æˆ–è€…æ‚¨å¯ä»¥ "follow" ä¸€ä¸‹ï¼Œæˆ‘ä¼šä¸æ–­å¼€æºæ›´å¤šçš„æœ‰è¶£çš„é¡¹ç›®

>   è¯¥åˆ†æ”¯ä¸ºvue-cli2ç‰ˆæœ¬æ­å»ºï¼Œéƒ¨åˆ†åŒå­¦ååº”æ— æ³•åˆå§‹åŒ–ï¼Œç”±äºæ— æ›´å¤šæ—¶é—´è¿›è¡Œç»´æŠ¤ï¼Œç°æ·»åŠ vue-cli3çš„åˆ†æ”¯https://github.com/hty7/vue-demo/tree/v2.x


## éƒ¨åˆ†é¡µé¢æ•ˆæœå›¾

<p align="center"><img align="center" src="https://github.com/hty7/vue-demo/blob/master/screenshots/home.png"/></p>

<p align="center"><img align="center" src="https://github.com/hty7/vue-demo/blob/master/screenshots/map.png"/></p>

<p align="center"><img align="center" src="https://github.com/hty7/vue-demo/blob/master/screenshots/mobile-1.png"/></p>

## æŠ€æœ¯æ ˆ

vue2 + vuex + vuetify + vue-router + webpack + ES6/7 + axios + sass


## Build Setup

``` bash
# install dependencies
$ npm install

# serve with hot reload at localhost:8060
$ npm run dev

# mock serve
$ npm run nei-run

# build for production with minification
$ npm run build

# build for production and view the bundle analyzer report
$ npm run build --report

# run unit tests
$ npm run unit

# run e2e tests
$ npm run e2e

# run all tests
$ npm test
```


## é¡¹ç›®å¸ƒå±€

```
.
â”œâ”€â”€ build                                       // webpacké…ç½®æ–‡ä»¶
â”œâ”€â”€ config                                      // é¡¹ç›®æ‰“åŒ…è·¯å¾„
â”œâ”€â”€ dist                                        // æ‰“åŒ…é¡¹ç›®æ–‡ä»¶
â”œâ”€â”€ mock.data                                   // NEIæ¨¡æ‹Ÿæ¥å£
â”œâ”€â”€ src                                         // æºç ç›®å½•
â”‚Â Â  â”œâ”€â”€ components                              // è‡ªå®šä¹‰ç»„ä»¶
â”‚Â Â  â”œâ”€â”€ config                                  // åŸºæœ¬é…ç½®
â”‚Â Â  â”œâ”€â”€ directives                              // è‡ªå®šä¹‰æŒ‡ä»¤
â”‚Â Â  â”œâ”€â”€ filters                                 // è‡ªå®šä¹‰è¿‡æ»¤å™¨
â”‚Â Â  â”œâ”€â”€ lang                                    // I18né™æ€èµ„æº
â”‚Â Â  â”œâ”€â”€ mixin                                   // æ··å…¥
â”‚Â Â  â”œâ”€â”€ plugins                                 // è‡ªå®šä¹‰æ’ä»¶
â”‚Â Â  â”œâ”€â”€ router                                  // è·¯ç”±é…ç½®
â”‚Â Â  â”œâ”€â”€ service                                 // æ•°æ®äº¤äº’API
â”‚Â Â  â”œâ”€â”€ store                                   // vuexçš„çŠ¶æ€ç®¡ç†
â”‚Â Â  â”œâ”€â”€ style                                   // å…¬å…±æ ·å¼æ–‡ä»¶
â”‚Â Â  â”œâ”€â”€ utils                                   // å…¬å…±å‡½æ•°/å˜é‡
â”‚Â Â  â”œâ”€â”€ view                                    // ä¸šåŠ¡æ¨¡å—
â”‚Â Â  â”œâ”€â”€ App.vue                                 // é¡µé¢å…¥å£æ–‡ä»¶
â”‚Â Â  â””â”€â”€ main.js                                 // ç¨‹åºå…¥å£æ–‡ä»¶ï¼ŒåŠ è½½å„ç§å…¬å…±ç»„ä»¶
â”œâ”€â”€ static                                      // é™æ€æ–‡ä»¶
â”œâ”€â”€ index.html                                  // å…¥å£htmlæ–‡ä»¶
.
```

## æŠ€æœ¯æ–‡æ¡£

> [vue2](https://cn.vuejs.org/v2/guide/)

> [vuex](https://vuex.vuejs.org/zh-cn/)

> [vuetify](https://vuetifyjs.com/zh-Hans/)

> [vue-router](https://router.vuejs.org/zh-cn/)

> [ES6/7](http://es6.ruanyifeng.com/)

> [axios](https://www.npmjs.com/package/axios)

> [sass](https://www.sass.hk/)

## æŠ€æœ¯è¯´æ˜ :fire:

### ğŸ“˜  components è‡ªå®šä¹‰ç»„ä»¶

#### è‡ªå®šä¹‰å…¨å±€ç»„ä»¶

é€šè¿‡æŠ½å–ä¸šåŠ¡é€»è¾‘ç›¸åŒçš„æ¨¡å—å…¨å±€æ³¨å†Œï¼Œä»»ä½•æ–°åˆ›å»ºçš„Vueæ ¹å®ä¾‹æ¨¡æ¿å¯ä»¥ä½¿ç”¨

main.js
```js
    import SectionContent from '@/components/SectionContent'
    Vue.component('section-content', SectionContent)
```
ä¸šåŠ¡ç»„ä»¶
     
    <section-content></section-content>

#### è‡ªå®šä¹‰å±€éƒ¨ç»„ä»¶
å¦‚è‡ªå®šä¹‰åœ°å›¾ç»„ä»¶ã€å¯è§†åŒ–ç»„ä»¶

[å­¦ä¹ æ›´å¤šï¼ˆvueåœ°å›¾å¯è§†åŒ–ï¼‰](https://segmentfault.com/a/1190000014337634)


### directives è‡ªå®šä¹‰æŒ‡ä»¤

å®˜æ–¹è¯¦ç»†æ–‡æ¡£ï¼š[https://cn.vuejs.org/v2/guide/custom-directive.html](https://cn.vuejs.org/v2/guide/custom-directive.html)

é€šè¿‡directiveå°±å¯ä»¥åœ¨Vueä¸Šæ³¨å†ŒæŒ‡ä»¤

#### æ³¨å†Œä¸€ä¸ªå…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ `v-focus`
```js
    Vue.directive('focus', {
    // å½“è¢«ç»‘å®šçš„å…ƒç´ æ’å…¥åˆ° DOM ä¸­æ—¶â€¦â€¦
    inserted: function (el) {
        // èšç„¦å…ƒç´ 
        el.focus()
    }
    })
```

#### ğŸ¦ æŒ‡ä»¤æ¨¡å—åŒ–
 [å­¦ä¹ æ›´å¤š v-stealthå…ƒç´ æ˜¾ç¤ºéšè—](https://segmentfault.com/a/1190000014370906)

ä¾‹å¦‚ï¼šæˆ‘ä»¬çš„æƒ³æ³•æ˜¯æ³¨å†Œä¸€ä¸ªæŒ‡ä»¤ï¼Œé€šè¿‡ç»™é’©å­å‡½æ•°ä¼ é€’å‚æ•°true æˆ– falseå»æ”¹å˜èŠ‚ç‚¹çš„displayçš„å€¼

![](https://github.com/hty7/picture/blob/master/directives.png)

stealth.js

å…ƒç´ éšè—æ˜¾ç¤ºæŒ‡ä»¤
```js
    export default {
      // åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨
      bind (el, binding, vnode) {
    	el.style.display = binding.value ? 'block' : 'none'
      },
      // è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨
      inserted (el, binding, vnode) {
    	console.log('inserted')
      },
      // æ‰€åœ¨ç»„ä»¶çš„ VNode æ›´æ–°æ—¶è°ƒç”¨
      update (el, binding, vnode) {
    	console.log('update')
    	el.style.display = binding.value ? 'block' : 'none'
      },
      // æŒ‡ä»¤æ‰€åœ¨ç»„ä»¶çš„ VNode åŠå…¶å­ VNode å…¨éƒ¨æ›´æ–°åè°ƒç”¨
      componentUpdated (el, binding, vnode) {
    	console.log('componentUpdated')
      },
      unbind (el, binding, vnode) {
    	console.log('unbind')
      }
    }
```

æŒ‡ä»¤æ¨¡å—åŒ–ï¼Œé€šè¿‡index.jsç®¡ç†è‡ªå®šä¹‰æŒ‡ä»¤ã€‚æ·»åŠ æ–°æŒ‡ä»¤åªéœ€åœ¨modulesä¸­åŠ å…¥æ¨¡å—ï¼Œå¹¶å¼•å…¥

index.js

    import stealth from './modules/stealth'
    export {stealth}

å…¨å±€Vueä¸­é€šè¿‡directiveç»‘å®šå…¨éƒ¨æŒ‡ä»¤

mian.js
```js
    import * as directives from './directives'
    // æ³¨å†ŒæŒ‡ä»¤
    Object.keys(directives).forEach(k => Vue.directive(k, directives[k]))
```

ä¸šåŠ¡ç»„ä»¶ä¸­ï¼ŒåŠ å…¥v-*(æŒ‡ä»¤å)

    <div v-stealth="true"></div>

### ğŸ“¦ filters è‡ªå®šä¹‰è¿‡æ»¤å™¨

ä½¿ç”¨è‡ªå®šä¹‰çš„åŸå› æ˜¯åç«¯è·å–çš„æ•°æ®ä¸ä¸€å®šæ»¡è¶³å‰ç«¯æ–‡æœ¬æ ¼å¼åŒ–æ˜¾ç¤ºçš„è¦æ±‚ï¼Œå› æ­¤éœ€è¦å¯¹æ•°æ®è¿›è¡ŒäºŒæ¬¡

index.js

// å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å€¼
```js
	export const toNumber = value ={
		if (value) return parseInt(value)
		return ''
	}
```

å…¨å±€Vueä¸­é€šè¿‡filteræ³¨å†Œè¿‡æ»¤å™¨

main.js
```js
    import * as filters from './filters'
    Object.keys(filters).forEach(k => Vue.filter(k, filters[k]))
```

ä¸šåŠ¡é¡µé¢ä¸­ä½¿ç”¨åŒèŠ±æ‹¬å·æ’å€¼å’Œ v-bind è¡¨è¾¾å¼ä½¿ç”¨
```js
    <!-- åœ¨åŒèŠ±æ‹¬å·ä¸­ -->
    {{ message | toNumber }}
    
    <!-- åœ¨ `v-bind` ä¸­ -->
    <div v-bind:id="rawId | toNumber"></div>
```

## é¡¹ç›®ä¼˜åŒ– ğŸŒ¶ï¸:

é¡¹ç›®æ‰“åŒ…ä¸Šçº¿åæˆ‘ä»¬ä¼šå‘ç°éƒ¨åˆ†é¡µé¢åŠ è½½è¿‡æ…¢ï¼Œå› æ­¤é¡¹ç›®ç”Ÿäº§ç¯å¢ƒè¿›è¡Œå¿…è¦çš„ä¼˜åŒ–

é¦–å…ˆæˆ‘ä»¬å…ˆå®‰è£…`webpack-bundle-analyzer`æ’ä»¶ï¼Œå¥¹å¯ä»¥å°†æ‰“åŒ…åçš„å†…å®¹æŸå±•ç¤ºä¸ºæ–¹ä¾¿äº¤äº’çš„ç›´è§‚æ ‘çŠ¶å›¾ï¼Œæœ‰åˆ©äºæˆ‘ä»¬è¿›è¡Œæ¥ä¸‹æ¥çš„é¡¹ç›®ä¼˜åŒ–åˆ†æ

å¯åŠ¨å‘½ä»¤ï¼š `npm run build --report`

å®˜æ–¹å›¾ä¾‹
<p align="center"><img align="center" src="https://github.com/hty7/vue-demo/blob/master/screenshots/webpack-bundle-analyzer.gif"/></p>

### ğŸš¦  è·¯ç”±ä¼˜åŒ–

### ğŸ“¦  æ‰“åŒ…ä¼˜åŒ–

